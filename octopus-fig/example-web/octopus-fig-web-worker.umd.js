(function(r){typeof define=="function"&&define.amd?define(r):r()})(function(){"use strict";importScripts("./octopus-fig-web.umd.js");const{createConverter:r,SourceApiReader:a}=OctopusFig;class o{constructor(){this._lastIndex=0,this._readers={},this._initCommands()}_initCommands(){const e={"register-file":this._registerFile.bind(this),"get-artboards":this._getArtboards.bind(this),"parse-artboard":this._parseArtboard.bind(this)};addEventListener("message",function({data:s}){const{type:t,args:i}=Object(s),n=i;t in e&&e[t](...n)})}async _registerFile(e,s){const t=this._lastIndex++,i=new a(s);this._readers[t]=i,postMessage({msgId:e,response:t})}async _getArtboards(e,s){postMessage({msgId:e,response:await this._readers[s].frameLikeIds})}async _parseArtboard(e,s,t){const n=await r({sourceDesign:this._readers[s].parse([t])}).convertDesign();postMessage({msgId:e,response:n})}}new o});
